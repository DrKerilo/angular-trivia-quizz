"use strict";(self.webpackChunkangular_trivia_quizz=self.webpackChunkangular_trivia_quizz||[]).push([[592],{9281:(m,p,a)=>{a.d(p,{o:()=>_});var l=a(7579),g=a(6063);class w extends l.x{constructor(t=1/0,s=1/0,e=g.l){super(),this._bufferSize=t,this._windowTime=s,this._timestampProvider=e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=s===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,s)}next(t){const{isStopped:s,_buffer:e,_infiniteTimeWindow:r,_timestampProvider:n,_windowTime:o}=this;s||(e.push(t),!r&&e.push(n.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const s=this._innerSubscribe(t),{_infiniteTimeWindow:e,_buffer:r}=this,n=r.slice();for(let o=0;o<n.length&&!t.closed;o+=e?1:2)t.next(n[o]);return this._checkFinalizedStatuses(t),s}_trimBuffer(){const{_bufferSize:t,_timestampProvider:s,_buffer:e,_infiniteTimeWindow:r}=this,n=(r?1:2)*t;if(t<1/0&&n<e.length&&e.splice(0,e.length-n),!r){const o=s.now();let c=0;for(let f=1;f<e.length&&e[f]<=o;f+=2)c=f;c&&e.splice(0,c+1)}}}var v=a(9661);const y=i=>{for(let t=i.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[i[t],i[s]]=[i[s],i[t]]}return i};var u=a(1571),h=a(9646),d=a(3900),S=a(529);let T=(()=>{var i;class t{constructor(e){this.httpClient=e,this.baseUrl="https://opentdb.com",this.categoryPath="/api_category.php",this.questionPath="/api.php",this.numberOfQuestions=5,this.typeMultiple="multiple",this.isMocked=!1,this.mockCategories=[{id:1,name:"Cat\xe9gorie 1"},{id:2,name:"Cat\xe9gorie 2"}],this.mockQuestions=[{category:"General Knowledge",type:"multiple",difficulty:"easy",question:"Which of the following card games revolves around numbers and basic math?",correct_answer:"Uno",incorrect_answers:["Go Fish","Twister","Munchkin"]},{category:"General Knowledge",type:"multiple",difficulty:"easy",question:"What is the Zodiac symbol for Gemini?",correct_answer:"Twins",incorrect_answers:["Fish","Scales","Maiden"]},{category:"General Knowledge",type:"multiple",difficulty:"easy",question:"According to the nursery rhyme, what fruit did Little Jack Horner pull out of his Christmas pie?",correct_answer:"Plum",incorrect_answers:["Apple","Peach","Pear"]},{category:"General Knowledge",type:"multiple",difficulty:"easy",question:"How many furlongs are there in a mile?",correct_answer:"Eight",incorrect_answers:["Two","Four","Six"]},{category:"General Knowledge",type:"multiple",difficulty:"easy",question:"The drug cartel run by Pablo Escobar originated in which South American city?",correct_answer:"Medell&iacute;n",incorrect_answers:["Bogot&aacute;","Quito","Cali"]}]}getCategories(){return this.isMocked?(0,h.of)(this.mockCategories):this.httpClient.get(this.baseUrl+this.categoryPath).pipe((0,d.w)(e=>(0,h.of)(e.trivia_categories)))}getQuestions(e,r){return this.isMocked?(0,h.of)(this.mockQuestions):this.httpClient.get(this.baseUrl+this.questionPath+"?amount="+this.numberOfQuestions+"&category="+e+"&difficulty="+r+"&type="+this.typeMultiple).pipe((0,d.w)(o=>(0,h.of)(o.results)))}}return(i=t).\u0275fac=function(e){return new(e||i)(u.LFG(S.eN))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),t})();var b=a(6239);let _=(()=>{var i;class t{constructor(e,r){this.openTriviaService=e,this.router=r,this.questionnaire$=new w(1)}getCategories(){return this.openTriviaService.getCategories()}setQuestionnaire(e,r){this.openTriviaService.getQuestions(e,r).subscribe(n=>{const o={questions:n.map(c=>({question:c.question,answers:y([c.correct_answer,...c.incorrect_answers]),correctAnswer:c.correct_answer}))};this.questionnaire$.next(o)})}setUserAnswers(e,r){console.log(r);const n=JSON.parse(JSON.stringify(e));Object.values(r).forEach((o,c)=>{n.questions[c].userAnswer=o}),console.log(n),this.router.navigate(["/"+v.n.QUIZ_RESULTS]).then(()=>{console.log("coucou",n)}),this.questionnaire$.next(n)}}return(i=t).\u0275fac=function(e){return new(e||i)(u.LFG(T),u.LFG(b.F0))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),t})()},6063:(m,p,a)=>{a.d(p,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}}}]);